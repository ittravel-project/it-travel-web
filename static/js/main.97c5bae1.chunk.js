(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,t,a){e.exports=a(293)},138:function(e,t,a){},287:function(e,t){},293:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),s=a.n(c),l=(a(138),a(8)),o=a(7),i=a(10),m=a(9),u=a(11),d=a(36),h=a(121),p=a(102),f=a.n(p),b=a(313),E=a(113),v=a(321),g=a(328),N=a(322),y=a(320),j=a(331),O=a(323),C=a(114),w=a.n(C),x=a(314),S=a(315),k=a(316),P=a(317),B=a(58),D=a.n(B),A=a(103),F=a.n(A).a.create({baseURL:"".concat("http://localhost:3001"),withCredentials:!0});F.interceptors.response.use(function(e){return e},function(e){return 403===e.status?window.location="/login":Promise.reject(e)});var I=F,L={getPosts:function(e){return I.get("/posts",{params:e||{}})},deletePost:function(e){return I.delete("/posts/".concat(e))},createPost:function(e){return I.post("/posts",e)},getPostDetail:function(e){return I.get("/posts/".concat(e,"/comments"))}},T=a(13),U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[]},a.fetchPosts=function(){L.getPosts().then(function(e){a.setState({posts:e.data})})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchPosts()}},{key:"render",value:function(){var e=Object(b.a)(function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:500,height:350},icon:{color:"rgba(255, 255, 255, 0.54)"}}});return r.a.createElement("div",{className:e.root},r.a.createElement(x.a,{cellHeight:180,className:e.gridList},this.state.posts.sort(function(e,t){return e.city.localeCompare(t.city)}).map(function(t){return r.a.createElement(S.a,{key:t.attachment},r.a.createElement("img",{src:t.attachment,alt:t.title}),r.a.createElement(k.a,{title:t.title,subtitle:r.a.createElement("span",null,"City: ",t.city),actionIcon:r.a.createElement(P.a,{"aria-label":"info about ".concat(t.title),className:e.icon},r.a.createElement(T.b,{className:"card-title",to:"/posts/".concat(t.id,"/comments")},r.a.createElement(D.a,null)))}))})))}}]),t}(r.a.Component),q={register:function(e){return I.post("/register",e).then(function(e){return Promise.resolve(e.data)})},authenticate:function(e){return I.post("/login",e).then(function(e){return Promise.resolve(e.data)})},getProfile:function(){return I.get("/profile").then(function(e){return Promise.resolve(e.data)})},getUser:function(e){return I.get("/profile/".concat(e))},getProfileById:function(e){return I.get("/profile/".concat(e))},updateProfile:function(e){var t=new FormData;return Object.keys(e).forEach(function(a){"password"===a&&""===e.password||t.append(a,e[a])}),I.put("/profile",t).then(function(e){return Promise.resolve(e.data)})},logout:function(){return I.get("/logout").then(function(e){return Promise.resolve(e.data)})}},V="current-user",R=r.a.createContext(),W=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:JSON.parse(localStorage.getItem(V)||"{}")},a.handleUserChange=function(e){a.setState({user:e}),e?localStorage.setItem(V,JSON.stringify(e)):localStorage.removeItem(V)},a.isAuthenticated=function(){return a.state.user&&a.state.user.email},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(R.Provider,{value:{user:this.state.user,onUserChange:this.handleUserChange,isAuthenticated:this.isAuthenticated}},this.props.children)}}]),t}(r.a.Component),H=function(e){return function(){return r.a.createElement(R.Consumer,null,function(t){return r.a.createElement(e,t)})}},M=H(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={users:[]},a.fetchUsers=function(){q.getUser().then(function(e){a.setState({users:e.data})})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchUsers()}},{key:"render",value:function(){var e=this,t=Object(b.a)(function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:500,height:450},icon:{color:"rgba(255, 255, 255, 0.54)"}}});return r.a.createElement("div",{className:t.root},r.a.createElement(x.a,{cellHeight:180,className:t.gridList},r.a.createElement(S.a,{key:"Subheader",cols:2,style:{height:"auto"}}),this.state.users.filter(function(t){return t.id!==e.props.user.id}).sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(e){return r.a.createElement(S.a,{key:e.img},r.a.createElement("img",{src:e.avatar?URL.createObjectURL(e.avatar):e.avatarURL,alt:e.title}),r.a.createElement(k.a,{title:e.name,subtitle:r.a.createElement("span",null,e.city),actionIcon:r.a.createElement(P.a,{className:t.icon},r.a.createElement(T.b,{className:"card-title",to:"/profile/".concat(e.id)},r.a.createElement(D.a,null)))}))})))}}]),t}(r.a.Component)),J=a(318),Y=a(319),G=a(110),Q=a.n(G),_=a(111),$=a.n(_),z=a(112),K=a.n(z),X=H(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(){q.logout().then(function(){return a.props.onUserChange(null)})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=Object(b.a)({root:{width:500,height:200},navStyle:{textDecoration:"none",marginTop:"15px"}});return r.a.createElement(n.Fragment,null,r.a.createElement(J.a,{showLabels:!0,className:e.root},r.a.createElement(Y.a,{label:"Home",icon:r.a.createElement(Q.a,null),href:"/home",className:e.navStyle}),r.a.createElement(Y.a,{label:"Profile",icon:r.a.createElement($.a,null),href:"/profile",className:e.navStyle}),r.a.createElement(Y.a,{label:"Sign Out",icon:r.a.createElement(K.a,null),onClick:this.handleLogout})))}}]),t}(r.a.Component));function Z(e){var t=e.children,a=e.dir;return r.a.createElement(y.a,{component:"div",dir:a,style:{padding:24}},t)}var ee=Object(b.a)(function(e){return{root:{backgroundColor:e.palette.background.paper,width:"100%",position:"relative",minHeight:200,height:"100vh"},fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2),marginBottom:"15%"},tabsStyle:{backgroundColor:"rgb(183, 214, 229)"},tabStyle:{fontWeight:"bold",color:"rgb(16, 50, 111)"},swipeStyle:{overflowY:"scroll",height:"59.5%",backgroundColor:"rgb(242, 235, 202)"}}}),te=function(){var e=ee(),t=Object(E.a)(),a=r.a.useState(0),n=Object(h.a)(a,2),c=n[0],s=n[1];var l={enter:t.transitions.duration.enteringScreen,exit:t.transitions.duration.leavingScreen},o=[{color:"primary",className:e.fab,icon:r.a.createElement(w.a,null),label:"Add"}];return r.a.createElement("div",{className:e.root},r.a.createElement("img",{src:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1233&q=80",alt:"",className:"home-top-image"}),r.a.createElement(v.a,{position:"static",color:"default"},r.a.createElement(g.a,{value:c,onChange:function(e,t){s(t)},indicatorColor:"primary",variant:"fullWidth",className:e.tabsStyle},r.a.createElement(N.a,{label:"Destinations",className:e.tabStyle}),r.a.createElement(N.a,{label:"Travelers",className:e.tabStyle}))),r.a.createElement(f.a,{axis:"rtl"===t.direction?"x-reverse":"x",index:c,onChangeIndex:function(e){s(e)},className:e.swipeStyle},r.a.createElement(Z,{dir:t.direction},r.a.createElement(U,null)),r.a.createElement(Z,{dir:t.direction},r.a.createElement(M,null))),o.map(function(e,t){return r.a.createElement(j.a,{key:e.color,in:c===t,timeout:l,style:{transitionDelay:"".concat(c===t?l.exit:0,"ms")},unmountOnExit:!0},r.a.createElement(O.a,{"aria-label":e.label,className:e.className,color:e.color,href:"/posts/new"},e.icon))}),r.a.createElement(X,null))},ae=a(15),ne=a(12),re=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,ce={name:function(e){var t;return e||(t="Name is required"),t},city:function(e){var t;return e||(t="City is required"),t},email:function(e){var t;return e?re.test(e)||(t="Invalid email pattern"):t="Email is required",t},password:function(e){var t;return e||(t="Password is required"),t}},se=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:{name:"",city:"",email:"",password:""},errors:{},touch:{},isRegistered:!1},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({user:Object(ne.a)({},a.state.user,Object(ae.a)({},n,r)),errors:Object(ne.a)({},a.state.errors,Object(ae.a)({},n,ce[n]&&ce[n](r)))})},a.handleBlur=function(e){var t=e.target.name;a.setState({touch:Object(ne.a)({},a.state.touch,Object(ae.a)({},t,!0))})},a.handleSubmit=function(e){e.preventDefault(),a.isValid()&&q.register(a.state.user).then(function(e){return a.setState({isRegistered:!0})},function(e){var t=e.response.data,n=t.message,r=t.errors;a.setState({errors:Object(ne.a)({},a.state.errors,r,{email:!r&&n})})})},a.isValid=function(){return!Object.keys(a.state.user).some(function(e){return a.state.errors[e]})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isRegistered,a=e.errors,n=e.user,c=e.touch;return t?r.a.createElement(d.a,{to:"/login"}):r.a.createElement("div",{className:"container mt-5 login-container"},r.a.createElement(T.b,{to:"/"},r.a.createElement("i",{className:"fa fa-chevron-left"})),r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-4 login"},r.a.createElement("h3",{className:"register-title"},"Let's Start Traveling   ",r.a.createElement("i",{className:"fa fa-bicycle"})),r.a.createElement("form",{id:"register-form",className:"mt-4",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text register-icons"},r.a.createElement("i",{className:"fa fa-user"}))),r.a.createElement("input",{type:"text",name:"name",className:"shadow form-control ".concat(c.name&&a.name?"is-invalid":""),onChange:this.handleChange,onBlur:this.handleBlur,value:n.name,placeholder:"Username"}),r.a.createElement("div",{className:"invalid-feedback"},a.name)),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text register-icons"},r.a.createElement("i",{className:"fa fa-map"}))),r.a.createElement("input",{type:"city",name:"city",className:"shadow form-control ".concat(c.city&&a.city?"is-invalid":""),onChange:this.handleChange,onBlur:this.handleBlur,value:n.city,placeholder:"City"}),r.a.createElement("div",{className:"invalid-feedback"},a.city)),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text register-icons"},r.a.createElement("i",{className:"fa fa-envelope"}))),r.a.createElement("input",{type:"email",name:"email",className:"shadow form-control ".concat(c.email&&a.email?"is-invalid":""),onChange:this.handleChange,onBlur:this.handleBlur,value:n.email,placeholder:"Email"}),r.a.createElement("div",{className:"invalid-feedback"},a.email)),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text register-icons"},r.a.createElement("i",{className:"fa fa-lock"}))),r.a.createElement("input",{type:"password",name:"password",className:"shadow form-control ".concat(c.password&&a.password?"is-invalid":""),onChange:this.handleChange,onBlur:this.handleBlur,value:n.password,placeholder:"Password"}),r.a.createElement("div",{className:"invalid-feedback"},a.password))),r.a.createElement("div",{className:"col-6 register-button"},r.a.createElement("button",{className:"btn btn-primary shadow",form:"register-form",type:"submit",disabled:!this.isValid()},"Create Account"))),r.a.createElement("hr",null),r.a.createElement("p",{className:"text-center"},"Already registered? ",r.a.createElement(T.b,{to:"/login"},"Log In")))))}}]),t}(n.Component),le=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,oe={email:function(e){var t;return e?le.test(e)||(t="Invalid email pattern"):t="Email is required",t},password:function(e){var t;return e||(t="Password is required"),t}},ie=H(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:{email:"",password:""},errors:{},touch:{},isAuthenticated:!1},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({user:Object(ne.a)({},a.state.user,Object(ae.a)({},n,r)),errors:Object(ne.a)({},a.state.errors,Object(ae.a)({},n,oe[n]&&oe[n](r)))})},a.handleBlur=function(e){var t=e.target.name;a.setState({touch:Object(ne.a)({},a.state.touch,Object(ae.a)({},t,!0))})},a.handleSubmit=function(e){e.preventDefault(),a.isValid()&&q.authenticate(a.state.user).then(function(e){return a.setState({isAuthenticated:!0},function(){a.props.onUserChange(e)})},function(e){var t=e.response.data,n=t.message,r=t.errors;a.setState({errors:Object(ne.a)({},a.state.errors,r,{email:!r&&n})})})},a.isValid=function(){return!Object.keys(a.state.user).some(function(e){return a.state.errors[e]})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isAuthenticated,a=e.errors,n=e.user,c=e.touch;return t?r.a.createElement(d.a,{to:"/home"}):r.a.createElement("div",{className:"container mt-5 login-container"},r.a.createElement(T.b,{to:"/"},r.a.createElement("i",{className:"fa fa-chevron-left"})),r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-4 login"},r.a.createElement("h3",{className:"login-title"},"Welcome Traveler  ",r.a.createElement("i",{className:"fa fa-globe"})),r.a.createElement("form",{id:"register-form",className:"mt-4",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text login-icons"},r.a.createElement("i",{className:"fa fa-envelope"}))),r.a.createElement("input",{type:"email",name:"email",className:"shadow form-control ".concat(c.email&&a.email?"is-invalid":""),onChange:this.handleChange,onBlur:this.handleBlur,value:n.email,placeholder:"Email"}),r.a.createElement("div",{className:"invalid-feedback"},a.email)),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text login-icons"},r.a.createElement("i",{className:"fa fa-lock"}))),r.a.createElement("input",{type:"password",name:"password",className:"shadow form-control ".concat(c.password&&a.password?"is-invalid":""),onChange:this.handleChange,onBlur:this.handleBlur,value:n.password,placeholder:"Password"}),r.a.createElement("div",{className:"invalid-feedback"},a.password))),r.a.createElement("div",{className:"col-6 login-button"},r.a.createElement("button",{className:"btn btn-primary shadow",form:"register-form",type:"submit",disabled:!this.isValid()},"Log in"))),r.a.createElement("hr",null),r.a.createElement("a",{href:"http://localhost:3001/authenticate/google",className:"btn btn-block btn-danger shadow"},r.a.createElement("i",{className:"fa fa-google"}),"  Login with Google"),r.a.createElement("a",{href:"http://localhost:3001/authenticate/facebook",className:"btn btn-block btn-primary shadow"},r.a.createElement("i",{className:"fa fa-facebook-f"})," Login with Facebook"),r.a.createElement("p",{className:"text-center"},"Not registered? ",r.a.createElement(T.b,{to:"/register"},"Register")))))}}]),t}(r.a.Component)),me=a(59),ue=a.n(me),de=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleDelete=function(e){e.preventDefault(),a.props.onDeletePost(a.props.post.id)},a.state={post:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.post,a=e.isDelete;return r.a.createElement("div",{className:"card mb-4",style:{maxWidth:600,maxHeight:750}},r.a.createElement("img",{style:{maxWidth:100,maxHeight:100},width:"25%",src:t&&t.attachment,className:"card-img-top",alt:"post"}),r.a.createElement("div",{className:"card-body"},r.a.createElement(T.b,{className:"card-title",to:t&&"/posts/".concat(t.id,"/comments")},t&&t.title),r.a.createElement(ue.a,{source:t&&t.message,escapeHtml:!1}),a&&r.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:this.handleDelete},"Delete")))}}]),t}(r.a.Component),he=a(324),pe=a(326),fe=a(325),be=a(327),Ee=H(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:{name:"",city:"",description:"",email:"",password:"",avatarURL:"",avatar:"",descriptionPlaceholder:"Write something about yourself"},posts:[]},a.isValid=function(){return!Object.keys(a.state.user).some(function(e){return a.state.errors[e]})},a.fetchPosts=function(){L.getPosts({creater:a.props.user.id}).then(function(e){a.setState({posts:e.data})})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;q.getProfile().then(function(t){return e.setState({user:Object(ne.a)({},e.state,t)})},function(e){return console.error(e)}),this.fetchPosts()}},{key:"render",value:function(){var e=this.state.user,t=Object(b.a)({card:{minWidth:100}});return r.a.createElement("div",{className:"box mx-auto Profile"},r.a.createElement("div",{className:"col-12 pt-4 text-center profileInfo"},r.a.createElement("div",{className:"pl-3"},r.a.createElement("label",{htmlFor:"avatar"},r.a.createElement("img",{src:e.avatarURL||"http://ecuciencia.utc.edu.ec/media/foto/default-user_x5fGYax.png",className:"rounded-circle mb-3",alt:"Cinque Terre",width:"200",height:"150"}))),r.a.createElement(T.b,{to:"/profile/edit",className:"btn btn-light  shadow profileEditButton"},"Edit Profile"),r.a.createElement("div",null,r.a.createElement("h1",{className:"shadow"},r.a.createElement("b",null,"Username:"),e.name," ")),r.a.createElement("div",null,r.a.createElement("h1",{className:"shadow"},r.a.createElement("b",null,"City:")," ",e.city)),r.a.createElement("div",null,r.a.createElement("h1",{className:"shadow"},r.a.createElement("b",null,"Description:")," ",e.description))),r.a.createElement("div",{className:"col-12 pt-2 text-center ActivityFeedTitle"},r.a.createElement("h2",null,"Activity Feed")),r.a.createElement("div",{className:"col-12 pt-2 text-center ActivityFeed"},this.state.posts.map(function(e,a){return r.a.createElement(he.a,{className:"activityFeedCard "},r.a.createElement(fe.a,null,r.a.createElement(y.a,{className:"cardTitle",color:"textSecondary",gutterBottom:!0},e&&e.title),r.a.createElement(T.b,{className:"card-title",to:e&&"/posts/".concat(e.id,"/comments")},r.a.createElement("img",{src:e&&e.attachment,alt:"",className:"card-title-img"})),r.a.createElement(y.a,{variant:"body2",component:"p"})),r.a.createElement(pe.a,null,r.a.createElement(be.a,{color:"secondary",className:t.button,size:"small"},"Delete")))})),r.a.createElement(X,null))}}]),t}(r.a.Component)),ve=a(115),ge=function(e){var t=e.component,a=Object(ve.a)(e,["component"]);return r.a.createElement(R.Consumer,null,function(e){var n=e.isAuthenticated;return r.a.createElement(d.b,Object.assign({render:function(e){return n()?r.a.createElement(t,e):r.a.createElement(d.a,{to:"/login"})}},a))})},Ne=a(329),ye=function(){return r.a.createElement("div",{className:"main"},r.a.createElement(Ne.a.Caption,null,r.a.createElement("h1",{className:"app-name"},"S'cape",r.a.createElement("i",{className:"fa fa-paper-plane"}))),r.a.createElement(Ne.a,{indicators:!1,fade:!0},r.a.createElement(Ne.a.Item,null,r.a.createElement("img",{className:"d-block slider-img",src:"https://images.unsplash.com/photo-1506976773555-b3da30a63b57?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80https://images.unsplash.com/photo-1551899892-56314e56f2c8?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=612&q=80",alt:"First slide"}),r.a.createElement(Ne.a.Caption,{className:"slider-text"},r.a.createElement("h3",null,"A Traveler's Guide"))),r.a.createElement(Ne.a.Item,null,r.a.createElement("img",{className:"d-block slider-img",src:"https://images.unsplash.com/photo-1530569112985-108dc2578ec2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=975&q=80",alt:"Second slide"}),r.a.createElement(Ne.a.Caption,{className:"slider-text"},r.a.createElement("h3",null,"For Travelers"))),r.a.createElement(Ne.a.Item,null,r.a.createElement("img",{className:"d-block slider-img",src:"https://images.unsplash.com/photo-1503891450247-ee5f8ec46dc3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=668&q=80",alt:"Third slide"}),r.a.createElement(Ne.a.Caption,{className:"slider-text"},r.a.createElement("h3",null,"By Travelers")))),r.a.createElement(Ne.a.Caption,{className:"main-buttons"},r.a.createElement(T.b,{className:"login-btn",to:"/login"},"Log in"),r.a.createElement(T.b,{className:"signup-btn",to:"/register"},"Sign up")))},je={name:function(e){var t;return e||(t="Name is required"),t},city:function(e){var t;return e||(t="City is required"),t},description:function(e){var t;return e||(t="Description is required"),t}},Oe=H(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:{name:"",city:"",description:"",email:"",password:"",avatarURL:"",avatar:""},errors:{},goToProfile:!1,touch:{}},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value,c=t.files;a.setState({user:Object(ne.a)({},a.state.user,Object(ae.a)({},n,c&&c[0]?c[0]:r)),errors:Object(ne.a)({},a.state.errors,Object(ae.a)({},n,je[n]&&je[n](r)))})},a.handleBlur=function(e){var t=e.target.name;a.setState({touch:Object(ne.a)({},a.state.touch,Object(ae.a)({},t,!0))})},a.handleSubmit=function(e){e.preventDefault(),a.isValid()&&q.updateProfile(a.state.user).then(function(e){return a.setState({user:Object(ne.a)({},a.state.user,e),goToProfile:!0})},function(e){var t=e.response.data,n=t.message,r=t.errors;a.setState({errors:Object(ne.a)({},a.state.errors,r,{email:!r&&n})})})},a.isValid=function(){return!Object.keys(a.state.user).some(function(e){return a.state.errors[e]})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;q.getProfile().then(function(t){return e.setState({user:Object(ne.a)({},e.state,t)})},function(e){return console.error(e)})}},{key:"render",value:function(){var e=this.state,t=e.errors,a=e.user,n=e.touch;return this.state.goToProfile?r.a.createElement(d.a,{to:"/profile"}):r.a.createElement("div",{className:"box mx-auto ProfileEdit"},r.a.createElement("div",{className:"text-center profileContainer"},r.a.createElement("div",{className:"col-9 ml-5 "},r.a.createElement("form",{id:"profile-form",className:"mt-3 profileEditForm",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"col-6 pt-1"},r.a.createElement("label",{htmlFor:"avatar"},r.a.createElement("img",{src:a.avatar?URL.createObjectURL(a.avatar):"http://ecuciencia.utc.edu.ec/media/foto/default-user_x5fGYax.png",className:"rounded-circle mb-3 ",alt:"Cinque Terre",width:"200",height:"150"})),r.a.createElement("input",{type:"file",id:"avatar",name:"avatar",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group mt-3 formSpacing"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",className:"shadow form-control ".concat(n.name&&t.name?"is-invalid":""),name:"name",onChange:this.handleChange,onBlur:this.handleBlur,value:a.name}),r.a.createElement("div",{className:"invalid-feedback"},t.name)),r.a.createElement("div",{className:"form-group formSpacing"},r.a.createElement("label",null,"City"),r.a.createElement("input",{type:"text",className:"shadow form-control ".concat(n.city&&t.city?"is-invalid":""),name:"city",onChange:this.handleChange,onBlur:this.handleBlur,value:a.city}),r.a.createElement("div",{className:"invalid-feedback"},t.city)),r.a.createElement("div",{className:"form-group formSpacing"},r.a.createElement("label",null,"Description"),r.a.createElement("input",{type:"text",className:"shadow form-control ".concat(n.description&&t.description?"is-invalid":""),name:"description",onChange:this.handleChange,onBlur:this.handleBlur,placeholder:"Write something about yourself",value:a.description}),r.a.createElement("div",{className:"invalid-feedback"},t.description)),r.a.createElement("div",{className:"form-group formSpacing"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",name:"email",className:"shadow form-control",value:a.email,disabled:!0})),r.a.createElement("div",{className:"form-group formSpacing"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",className:"shadow form-control ".concat(n.password&&t.password?"is-invalid":""),onChange:this.handleChange,onBlur:this.handleBlur,value:a.password}),r.a.createElement("div",{className:"invalid-feedback"},t.password)),r.a.createElement("button",{className:"btn btn-primary p-1 mt-3 shadow",form:"profile-form",type:"submit",disabled:!this.isValid()},"Update profile")))),r.a.createElement(X,null))}}]),t}(r.a.Component)),Ce=a(118),we=a.n(Ce),xe=(a(289),function(e){var t=e.label,a=e.name,n=e.onBlur,c=e.value,s=e.onChange,l=e.touch,o=e.error,i=e.inputType,m=e.validationClassName,u=e.isInput,d=(e.isHidden,{autoComplete:"off",className:"form-control ".concat(m),name:a,value:c,onBlur:n,onChange:s});return r.a.createElement("div",{className:"FormField"},r.a.createElement("label",{className:"FormField"},t),u&&r.a.createElement("input",{type:"file"}),"textarea"===i?r.a.createElement("textarea",Object.assign({},d,{rows:2})):r.a.createElement("input",Object.assign({placeholder:e.placeholder,type:e.type},d)),l&&!o&&r.a.createElement("div",{className:"valid-feedback"},"Looks good!"),l&&o&&r.a.createElement("div",{className:"invalid-feedback"},"Invalid field"))}),Se={title:function(e){return e.length>3},city:function(e){return e.length>3},attachment:function(e){return e.length>10}},ke=H(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:{title:"",creater:a.props.user.id,city:"",attachment:"",message:""},errors:{title:!0,city:!0,attachment:!0},goToPosts:!1,touch:{}},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value,c=Se[n](r);a.setState({data:Object(ne.a)({},a.state.data,Object(ae.a)({},n,r)),errors:Object(ne.a)({},a.state.errors,Object(ae.a)({},n,!c)),mdeValue:r})},a.handleContentChange=function(e){a.setState({data:Object(ne.a)({},a.state.data,{message:e})})},a.handleBlur=function(e){var t=e.target.name;a.setState({touch:Object(ne.a)({},a.state.touch,Object(ae.a)({},t,!0))})},a.getValidationsClassName=function(e){var t=a.state,n=t.errors;return t.touch[e]?n[e]?"is-invalid":"is-valid":""},a.handleSubmit=function(e){e.preventDefault(),L.createPost(a.state.data).then(function(){a.setState({goToPosts:!0})},function(e){var t=Object.keys(e.response.data.errors).reduce(function(e,t){return Object(ne.a)({},e,Object(ae.a)({},t,!0))},{});a.setState({errors:Object(ne.a)({},a.state.errors,t)})})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){if(this.state.goToPosts)return r.a.createElement(d.a,{to:"/home"});var e=this.state,t=e.data,a=e.errors,n=e.touch,c=Object.values(a).some(function(e){return!0===e});return r.a.createElement("div",{className:"CreatePost"},r.a.createElement("div",{className:"createPostContainer"},r.a.createElement("h1",{className:"share"},"Share Your Experience"),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"formControl"},r.a.createElement(xe,{label:"Title",name:"title",onBlur:this.handleBlur,value:t.title,onChange:this.handleChange,touch:n.title,inputType:"text",validationsClassName:this.getValidationsClassName("title")}),r.a.createElement(xe,{label:"Creator",name:this.props.user.name,value:this.props.user.name,placeholder:this.props.user.name}),r.a.createElement(xe,{label:"City",name:"city",onBlur:this.handleBlur,value:t.city,onChange:this.handleChange,touch:n.city,error:a.city,inputType:"text",validationsClassName:this.getValidationsClassName("city")}),r.a.createElement(xe,{label:"Image URL",name:"attachment",onBlur:this.handleBlur,value:t.attachment,onChange:this.handleChange,touch:n.attachment,error:a.title,inputType:"text",validationsClassName:this.getValidationsClassName("attachment")}),r.a.createElement(we.a,{label:"Message",name:"message",value:t.message,onChange:this.handleContentChange,options:{toolbar:["bold","italic","heading-3","|","quote","unordered-list","ordered-list","|","link","preview","side-by-side","fullscreen"]}}),r.a.createElement("button",{type:"submit",className:"btn ".concat(c?"btn-danger":"btn-success"),disabled:c},"Submit"))),r.a.createElement(X,null))}}]),t}(r.a.Component)),Pe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).fetchPosts=function(){L.getPosts().then(function(e){a.setState({posts:e.data})})},a.deletePost=function(e){L.deletePost(e).then(function(e){a.fetchPosts()})},a.state={posts:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchPosts()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.posts.map(function(t,a){return r.a.createElement(de,Object.assign({},e.props,{post:t,key:a,onClick:e.deletePost,onDeletePost:e.deletePost}))}))}}]),t}(r.a.Component),Be=function(e){return r.a.createElement("article",{className:"PostsBase"},r.a.createElement("div",{className:"d-flex justify-content-between border-bottom pb-3 mb-3"},r.a.createElement("h3",null,"Posts"),r.a.createElement(T.b,{to:"/posts/new",className:"btn btn-primary"},"New Post")),r.a.createElement(Pe,e))},De=a(23),Ae={deleteComment:function(e){return I.delete("/posts/:postId/comments/".concat(e))},createComment:function(e,t){return I.post("/posts/".concat(e,"/comments"),t)},getComments:function(e){return I.get("/posts/".concat(e,"/comments"))}},Fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleFieldChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(ne.a)({},a.state,{comment:Object(ne.a)({},a.state.comment,Object(ae.a)({},r,n))}))},a.state={error:"",comment:{text:""}},a.handleFieldChange=a.handleFieldChange.bind(Object(De.a)(a)),a.onSubmit=a.onSubmit.bind(Object(De.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"onSubmit",value:function(e){var t=this;if(e.preventDefault(),this.isFormValid()){var a=this.state.comment;Ae.createComment(this.props.match.params.postId,{text:a.text,name:"todo"}).then(function(e){return e.data}).then(function(e){e.error?t.setState({error:e.error}):(a.time=e.time,t.props.addComment(a),t.setState({comment:Object(ne.a)({},a,{text:""})}))}).catch(function(e){console.log(e),t.setState({error:"Something went wrong while submitting form."})})}else this.setState({error:"All fields are required."})}},{key:"isFormValid",value:function(){return""!==this.state.comment.text}},{key:"renderError",value:function(){return this.state.error?r.a.createElement("div",{className:"alert alert-danger"},this.state.error):null}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{method:"post",onSubmit:this.onSubmit,className:"CommentForm"},r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{onChange:this.handleFieldChange,value:this.state.comment.text,className:"form-control",placeholder:"\ud83e\udd2c Your Comment",name:"text",rows:"5"})),this.renderError(),r.a.createElement("div",{className:"form-group pb-0"},r.a.createElement("button",{disabled:this.state.loading,className:"btn btn-primary p-1"},"Comment \u27a4"))))}}]),t}(r.a.Component),Ie=a(119),Le=a.n(Ie),Te=function(e){var t=e.comment,a=t.name,n=t.text,c=t.time;return r.a.createElement("div",{className:"media mb-3"},r.a.createElement("img",{className:"mr-3 bg-light rounded",src:"https://api.adorable.io/avatars/48/".concat(a&&a.toLowerCase(),"@adorable.io.png"),alt:a,width:"15%"}),r.a.createElement("div",{className:"media-body p-2 shadow-sm rounded bg-light border commentTextBox"},r.a.createElement("small",{className:"float-right text-muted"},Le()(c).startOf("min").fromNow()),r.a.createElement("h1",{className:"mt-0 mb-1 text-muted"},a),n))},Ue=function(e){return r.a.createElement("div",{className:"CommentList"},r.a.createElement("h5",{className:"text-muted mb-4"},r.a.createElement("span",{className:"badge badge-success"},e.comments.length)," ","Comment",e.comments.length>1?"s":""),e.comments.map(function(e,t){return r.a.createElement(Te,{key:t,comment:e})}))},qe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={post:{}},a.fetchPosts=function(){L.getPosts().then(function(e){var t=e.data.filter(function(e){return e.id===a.props.match.params.postId});a.setState({post:t[0]})})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchPosts()}},{key:"render",value:function(){return r.a.createElement("article",{className:"PostDetail"},r.a.createElement("header",{className:"CommentBase-header"},r.a.createElement("h1",null,this.state.post.title),r.a.createElement("img",{src:this.state.post.attachment,alt:"logo",className:"postPageImage"}),r.a.createElement("p",{className:"post-city"},this.state.post.city),r.a.createElement("div",{className:"postDescriptionScroll"},r.a.createElement(ue.a,{source:this.state.post.message,escapeHtml:!1}))),r.a.createElement("hr",null))}}]),t}(r.a.Component),Ve=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).fetchPosts=function(){Ae.getComments(a.props.match.params.postId).then(function(e){a.setState({comments:e.data.reverse()})})},a.state={comments:[],post:[]},a.addComment=a.addComment.bind(Object(De.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"addComment",value:function(){this.fetchPosts()}},{key:"componentDidMount",value:function(){this.fetchPosts()}},{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100vh"}},r.a.createElement("div",{className:"CommentBase shadow"},r.a.createElement(qe,this.props),r.a.createElement("div",{className:"row commentBackground"},r.a.createElement("div",{className:"col-5 "},r.a.createElement("h6",{className:"commentPostHeader"},"Comment on Post"),r.a.createElement(Fe,Object.assign({},this.props,{addComment:this.addComment}))),r.a.createElement("div",{className:"col-6 pt-3 bg-white commentBox"},r.a.createElement(Ue,{comments:this.state.comments})))),r.a.createElement(X,null))}}]),t}(r.a.Component),Re=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:{name:"",city:"",description:"",avatarURL:"",avatar:""},posts:[]},a.fetchUser=function(){q.getProfileById(a.props.match.params.userId).then(function(e){var t=e.data.filter(function(e){return e.id===a.props.match.params.userId});a.setState({user:t[0]},function(){a.fetchPosts()})})},a.fetchPosts=function(){L.getPosts({creater:a.state.user.id}).then(function(e){a.setState({posts:e.data})})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){var e=this.state.user;Object(b.a)({card:{minWidth:100}});return r.a.createElement("div",{className:"box mx-auto Profile"},r.a.createElement("div",{className:"col-12 pt-4 text-center profileInfo"},r.a.createElement("div",{className:"pl-3"},r.a.createElement("label",{htmlFor:"avatar"},r.a.createElement("img",{src:e.avatarURL||"http://ecuciencia.utc.edu.ec/media/foto/default-user_x5fGYax.png",className:"rounded-circle mb-3",alt:"Cinque Terre",width:"200",height:"150"}))),r.a.createElement("div",null,r.a.createElement("h1",{className:"shadow"},r.a.createElement("b",null,"Username:"),e.name," ")),r.a.createElement("div",null,r.a.createElement("h1",{className:"shadow"},r.a.createElement("b",null,"City:")," ",e.city)),r.a.createElement("div",null,r.a.createElement("h1",{className:"shadow"},r.a.createElement("b",null,"Description:")," ",e.description))),r.a.createElement("div",{className:"col-12 pt-2 text-center ActivityFeedTitle"},r.a.createElement("h2",null,"Activity Feed")),r.a.createElement("div",{className:"col-12 pt-2 text-center ActivityFeedTraveler"},this.state.posts.map(function(e,t){return r.a.createElement(he.a,{className:"activityFeedCard"},r.a.createElement(fe.a,null,r.a.createElement(y.a,{className:"cardTitle",color:"textSecondary",gutterBottom:!0},e&&e.title),r.a.createElement(T.b,{className:"card-title",to:e&&"/posts/".concat(e.id,"/comments")},r.a.createElement("img",{src:e&&e.attachment,alt:"",className:"card-title-img"})),r.a.createElement(y.a,{variant:"body2",component:"p"})),r.a.createElement(pe.a,null))})),r.a.createElement(X,null))}}]),t}(r.a.Component),We=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("main",null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:ye}),r.a.createElement(d.b,{exact:!0,path:"/register",component:se}),r.a.createElement(d.b,{exact:!0,path:"/login",component:ie}),r.a.createElement(d.b,{exact:!0,path:"/create",component:ke}),r.a.createElement(ge,{exact:!0,path:"/profile",component:Ee}),r.a.createElement(ge,{exact:!0,path:"/profile/edit",component:Oe}),r.a.createElement(ge,{exact:!0,path:"/posts",component:Be}),r.a.createElement(ge,{exact:!0,path:"/posts/new",component:ke}),r.a.createElement(ge,{exact:!0,path:"/home",component:te}),r.a.createElement(ge,{exact:!0,path:"/posts/:postId/comments",component:Ve}),r.a.createElement(ge,{exact:!0,path:"/profile/:userId",component:Re}))))}}]),t}(r.a.Component);a(291),a(292);s.a.render(r.a.createElement(T.a,{basename:"/ittravel-project/it-travel-web"},r.a.createElement(W,null,r.a.createElement(We,null))),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.97c5bae1.chunk.js.map